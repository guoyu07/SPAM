<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Panels</title>
    <link rel="stylesheet" href="../../sencha-touch-1.1.0/resources/css/sencha-touch.css" type="text/css">
    <script type="text/javascript" src="../../sencha-touch-1.1.0/sencha-touch-debug-w-comments.js"></script>

<script type="text/javascript">

Ext.setup({
    onReady: function() {

        var vboxLayout =  {
            type : 'vbox',
            pack : 'center'
        };

        var setDockedBtn = {
            xtype   : 'button',
            text    : 'Dock floating Panel',
            handler : function() {
                floatingPanel.setFloating(false);
                floatingPanel.setDraggable(false);
                floatingPanel.el.setStyle('position: inherit;');
                fsPanel.addDocked(floatingPanel);
                fsPanel.doLayout();
            }
        };

        var setFloatingBtn = {
            xtype   : 'button',
            text    : 'Set floating',
            handler : function() {
                Ext.getBody().appendChild(floatingPanel.el)
                fsPanel.removeDocked(fsPanel, false);
                floatingPanel.setFloating();
                floatingPanel.setDraggable();
                floatingPanel.setHeight(100);
                floatingPanel.setWidth(100);
                floatingPanel.doLayout();
                floatingPanel.doComponentLayout();
                floatingPanel.setPosition(100, 100);
                fsPanel.doComponentLayout();
            }
        };


        var floatingPanel = new Ext.Panel({
            dock        : 'top',
            id          : 'flt',
            bodyStyle   : 'padding: 10px; background-color: #FCC;',
            layout      : vboxLayout,
            items       : [ setFloatingBtn ],
            dockedItems : [
                {
                    xtype : 'toolbar',
                    dock  : 'top',
                    title : 'Drag me!'
                }
            ]
        });

        floatingPanel.setPosition(100, 100);

        var fsPanel = new Ext.Panel({
            fullscreen  : true,
            style       : 'background-color: #CCF;',
            layout      : vboxLayout,
            items       : [ setDockedBtn ],
            dockedItems : [ floatingPanel ]
        });

    }
});

</script>

</head>
<body></body>
</html>