<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Sheets</title>
    <link rel="stylesheet" href="../../touch-1.0.2/resources/css/sencha-touch.css" type="text/css">
    <script type="text/javascript" src="../../touch-1.0.2/sencha-touch.js"></script>

<script type="text/javascript">

Ext.setup({
    onReady: function() {
        var autoDestroyListener = {
            hide : function(sheet) {
                sheet.destroy();
            }
        };

        var hideSheetFromToolBarBtn = function() {
            this.ownerCt.ownerCt.hide();
        };

        Ext.regModel('list', {
            fields : ['firstName']
        });


        var data = [
            {
                firstName : 'Jay'
            },
            {
                firstName : 'Anthony'
            },
            {
                firstName : 'Sebastian'
            },
            {
                firstName : 'Michael'
            },
            {
                firstName : 'Marjan'
            },
            {
                firstName : 'Blace'
            }
        ];

        var store = new Ext.data.JsonStore({
            model    : 'list',
            data     : data,
            autoLoad : true
        });


        var showGenericSheet = function() {
            new Ext.Sheet({
                stretchX    : true,
                height      : 220,
                layout      : 'fit',
                listeners   : autoDestroyListener,
                dockedItems : [
                    {
                        xtype : 'toolbar',
                        dock  : 'top',
                        title : 'Sheets are panels!'
                    },
                    {
                        xtype : 'toolbar',
                        dock  : 'bottom',
                        items : [
                            {
                                text : 'Back',
                                ui   : 'back'
                            },
                            {
                                xtype : 'spacer'
                            },
                            {
                                text    : 'Close',
                                handler : hideSheetFromToolBarBtn
                            }
                        ]
                    }
                ],
                items : [
                    {
                        xtype   : 'list',
                        store   : store,
                        itemTpl : '{firstName}'
                    }
                ]
            }).show();
        };


        var showActionSheet = function() {
            new Ext.ActionSheet({
                listeners : autoDestroyListener,
                defaults  : {
                    handler : function() {
                        this.ownerCt.hide();
                    }
                },
                items : [
                    {
                        xtype  : 'box',
                        height : 50,
                        style  : 'color: #FFF; text-align: center; font-size: 1.2em;',
                        html   : 'What do you want to do?'
                    },
                    {
                        text : 'Add to home screen',
                        ui   : 'confirm'
                    },
                    {
                        text : 'Add bookmark'
                    },
                    {
                        text : 'Meh, never mind!',
                        ui   : 'decline'
                    }
                ]

            }).show();
        };

        var showPicker = function() {

            new Ext.Picker({
                useTitles  : true,
                slots     : [
                    {
                        name  : 'agegrp',
                        title : 'Age group (years old)',
                        data  : [
                            {text: '1 - 10', value:  1},
                            {text: '11 - 14', value: 2},
                            {text: '15 - 18', value: 3},
                            {text: '19 - 24', value: 4},
                            {text: '25 - 31', value: 5},
                            {text: '32 - 40', value: 6},
                            {text: '41 - 50', value: 7},
                            {text: '51 - 75', value: 8},
                            {text: '75 - 100+', value: 9}
                        ]
                    }
                ]
            }).show();
        };

        var showDatePicker = function() {
            new Ext.DatePicker().show();
        };
        var myPanel = new Ext.Panel({
            fullscreen  : true,
            defaultType : 'button',
            scroll      : 'vertical',
            layout      : {
                type  : 'vbox',
                align : 'stretch'
            },
            dockedItems : [
                {
                    xtype : 'toolbar',
                    title : 'Using Sheets',
                    dock  : 'top'
                }
            ],
            defaults : {
                flex   : 1,
                style  : 'margin-bottom: 10px;'
            },
            items : [
                {
                    text    : 'Show generic sheet',
                    handler : showGenericSheet
                },
                {
                    text    : 'Action Sheet',
                    handler : showActionSheet
                },
                {
                    text    : 'Picker',
                    handler : showPicker
                },
                {
                    text    : 'Date Picker',
                    handler : showDatePicker
                },
                {
                    text    : 'Ext.Msg.alert',
                    handler : function() {
                        Ext.Msg.alert(
                            'Woah there cowboy!',
                            'You were not supposed to press that button!'
                        );
                    }
                },
                {
                    text    : 'Ext.Msg.confirm',
                    handler : function() {
                        Ext.Msg.confirm(
                            'Are you sure?',
                            'This will shut off the internet!',
                            Ext.emptyFn
                        );
                    }
                },
                {
                    text    : 'Ext.Msg.prompt',
                    handler : function() {
                        Ext.Msg.prompt(
                            'Sorry dude!',
                            'What is your name again?',
                            Ext.emptyFn
                        );
                    }
                }

            ]
        });
    }
});

</script>

</head>
<body></body>
</html>
